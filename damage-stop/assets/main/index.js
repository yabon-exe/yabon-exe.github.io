System.register("chunks:///_virtual/Battery.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,l,o,a,s,u,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Prefab,s=t.instantiate,u=t.Collider2D,p=t.find,c=t.Component}],execute:function(){var b,f,h,y,d,g;l._RF.push({},"c1abfTKwq1Cs7Z8oZ2ZGu39","Battery",void 0);var v=o.ccclass,P=o.property;t("Battery",(b=v("Battery"),f=P(a),b((d=e((y=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))||this).player=void 0,e.bulletList=[],e.bulletTag=void 0,i(e,"bulletPrefab",d,n(e)),i(e,"bulletInterval",g,n(e)),e}r(e,t);var l=e.prototype;return l.fire=function(){var t=s(this.bulletPrefab).getComponent("Bullet");t&&(t.getComponent(u).tag=this.bulletTag,this.bulletList.push(t),t.node.setPosition(this.node.position),t.node.parent=this.node.parent,t.bulletProperty={player:this.player})},l.start=function(){this.player=p("Player",this.node.parent).getComponent("Player"),this.schedule(this.fire,this.bulletInterval);var t=p("Property",this.node.parent).getComponent("Property").getTag("BULLET");this.bulletTag=t},l.update=function(t){var e=this,r=[],i=0;this.bulletList.forEach((function(t){t.alive||r.push(i),i++})),r.forEach((function(t){e.bulletList[t].node.destroy(),e.bulletList.splice(t,1)}))},e}(c)).prototype,"bulletPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"bulletInterval",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r,i,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Collider2D,i=t.Contact2DType,l=t.Component}],execute:function(){var c;n._RF.push({},"afee1RnpvhGma4yel5XEf69","Bullet",void 0);var u=o.ccclass;t("Bullet",u("Bullet")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).bulletProperty=void 0,e.alive=void 0,e}e(n,t);var o=n.prototype;return o.start=function(){this.alive=!0,this.init(this.bulletProperty);var t=this.getComponent(r);t&&t.on(i.BEGIN_CONTACT,this.onBeginContact,this)},o.update=function(t){},n}(l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Battery.ts","./Bullet.ts","./StraightBullet.ts","./Player.ts","./Property.ts","./TouchController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Property.ts"],(function(t){"use strict";var e,o,n,i,r,a,l,s,c,g,d;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.find,r=t.RigidBody2D,a=t.Collider2D,l=t.Contact2DType,s=t.tween,c=t.v2,g=t.Component},function(t){d=t.Property}],execute:function(){var h;o._RF.push({},"1a965CRfo9MoZkc95TD4qXD","Player",void 0);var p=n.ccclass;t("default",p("Player")(h=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).touchController=null,e.rigidBody=null,e.damageTween=void 0,e.damageStopping=!1,e}e(o,t);var n=o.prototype;return n.onBeginContact=function(t,e,o){10==e.tag&&(this.damageStopping=!0,this.damageTween.start())},n.start=function(){var t=this;this.touchController=i("TouchController",this.node.parent).getComponent("TouchController"),this.rigidBody=this.node.getComponent(r);var e=this.getComponent(a);if(e){var o=i("Property",this.node.parent).getComponent(d).getTag("NONE");e.tag=o,e.on(l.BEGIN_CONTACT,this.onBeginContact,this)}var n=.03;this.damageTween=s(this.node).to(.015,{angle:-20}).to(n,{angle:20}).to(n,{angle:-20}).to(n,{angle:20}).to(n,{angle:-20}).to(.015,{angle:0}).call((function(){t.damageStopping=!1}))},n.update=function(){if(this.damageStopping)this.rigidBody.linearVelocity=c(0,0);else if(this.touchController.swiping){var t=this.touchController.swipeVec;this.rigidBody.linearVelocity=t}else this.rigidBody.linearVelocity=c(0,0)},o}(g))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/Property.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,a=t.Component}],execute:function(){var o;e._RF.push({},"bf9f7SAcAhIyZfAQyDz6atj","Property",void 0);var c=n.ccclass;n.property,t("Property",c("Property")(o=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).tagMap=null,r}r(e,t);var n=e.prototype;return n.start=function(){this.tagMap=new Map,this.tagMap.set("NONE",0),this.tagMap.set("BULLET",10)},n.getTag=function(t){return this.tagMap.get(t)},e}(a))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/StraightBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts"],(function(t){"use strict";var i,e,r,n,o,l,a,s,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.RigidBody2D,s=t.v2},function(t){c=t.Bullet}],execute:function(){var u,p,d;o._RF.push({},"3220bmGFN1BSYwl91DlFLfM","StraightBullet",void 0);var y=l.ccclass,h=l.property;t("StraightBullet",y("StraightBullet")((d=i((p=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this).rigidBody=null,r(i,"speed",d,n(i)),i}e(i,t);var o=i.prototype;return o.init=function(t){this.rigidBody=this.node.getComponent(a);var i=t.player;this.rigidBody.angularVelocity=-10;var e=s(i.node.position.x,i.node.position.y),r=s(this.node.position.x,this.node.position.y),n=e.subtract(r);n.normalize(),n.multiplyScalar(this.speed),this.rigidBody.linearVelocity=n},o.onBeginContact=function(t,i,e){this.alive=!1},i}(c)).prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),u=p))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/TouchController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,s,a,c,p,l,h,u,w,f,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Vec2,c=e.v2,p=e.Color,l=e.v3,h=e.UITransform,u=e.Graphics,w=e.find,f=e.Camera,v=e.Node,g=e.Component}],execute:function(){var T,S,y,L,C,m,V,d;o._RF.push({},"10e21VQRPlF+If8UqnT++V+","TouchController",void 0);var b=s.ccclass,U=s.property;e("TouchController",(T=b("TouchController"),S=U(a),T((C=t((L=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).canvasUIT=null,t.graphics=null,t.camera=null,t.controllerLineStart=c(0,0),t.swipeVecBase=c(0,0),n(t,"swiping",C,r(t)),n(t,"swipeVec",m,r(t)),n(t,"swipeScale",V,r(t)),n(t,"swipeDistanceLimit",d,r(t)),t}i(t,e);var o=t.prototype;return o.resetLatestLocation=function(e){this.controllerLineStart=e},o.drawSwipeLine=function(){this.graphics.clear();var e=this.swipeVec.length();e>this.swipeDistanceLimit&&(e=this.swipeDistanceLimit);var t=c(this.controllerLineStart.x+this.swipeVecBase.x,this.controllerLineStart.y+this.swipeVecBase.y);this.graphics.lineWidth=e,this.graphics.strokeColor=p.WHITE,this.graphics.moveTo(this.controllerLineStart.x,this.controllerLineStart.y),this.graphics.lineTo(t.x,t.y),this.graphics.stroke()},o.clearGraphics=function(){this.graphics.clear()},o.screenToCanvasPoint=function(e){var t=l(e.x,e.y,0),i=this.camera.screenToWorld(t),n=this.canvasUIT.convertToNodeSpaceAR(i);return c(n.x,n.y)},o.updateSwipeVec=function(e){var t=e.x-this.controllerLineStart.x,i=e.y-this.controllerLineStart.y;this.swipeVecBase=c(t,i),this.swipeVec=c(t*this.swipeScale,i*this.swipeScale)},o.resetSwipeVec=function(){this.swipeVec=c(0,0)},o.start=function(){var e=this,t=this.node.parent;this.canvasUIT=t.getComponent(h),this.graphics=this.node.getComponent(u);var i=w("Camera",t);this.camera=i.getComponent(f),this.getComponent(h).contentSize=this.canvasUIT.contentSize,t.on(v.EventType.TOUCH_START,(function(t){var i=e.screenToCanvasPoint(t.touch.getLocation());e.resetLatestLocation(i),e.swiping=!0,e.resetSwipeVec()}),this),t.on(v.EventType.TOUCH_MOVE,(function(t){var i=e.screenToCanvasPoint(t.touch.getLocation());e.updateSwipeVec(i),e.drawSwipeLine()}),this),t.on(v.EventType.TOUCH_END,(function(t){e.swiping=!1,e.resetSwipeVec(),e.clearGraphics()}),this),t.on(v.EventType.TOUCH_CANCEL,(function(t){e.swiping=!1,e.resetSwipeVec(),e.clearGraphics()}),this)},o.update=function(){},t}(g)).prototype,"swiping",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=t(L.prototype,"swipeVec",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c(0,0)}}),V=t(L.prototype,"swipeScale",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),d=t(L.prototype,"swipeDistanceLimit",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),y=L))||y));o._RF.pop()}}}));
